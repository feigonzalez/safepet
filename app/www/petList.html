<head>
	<meta charset="utf-8" />
	<link rel="stylesheet" href="assets/style.css">
	<script src="assets/app.js"></script>
	<script src="assets/urlParams.js"></script>
	<script src="assets/db.js"></script>
	<style>
		.petImageDisplay{height:4rem;width:4rem;background-size:cover;
			background-position:50%;border-radius:50%;border:solid 1px #844}
		.sectionTitle{font-weight:bold;margin:0.75rem 0.5rem;color:#333}
		/* Perfil grande y atractivo */
		.profileCard{border-radius:var(--radius-xl);overflow:hidden;box-shadow:var(--shadow-2);margin:0.5rem}
		.profileHeader{background:linear-gradient(135deg,var(--brand-primary),#ff6b6b);color:#fff;display:flex;align-items:center;gap:0.75rem;padding:1rem}
		.accountAvatar{height:4.5rem;width:4.5rem;border-radius:50%;border:none;display:flex;align-items:center;justify-content:center;background:#fff;box-shadow:0 2px 8px #0002}
		.accountAvatarInitials{font-weight:700;color:#444}
		.accountName{font-size:1.35rem}
		.changePicLink{font-size:0.85rem;color:#fff8;text-decoration:underline;cursor:pointer}
		.profileBody{background:#fff;padding:1rem}
		.tabs{display:flex;gap:0.5rem;margin-bottom:0.5rem}
		.tab{padding:0.35rem 0.75rem;border:solid 1px var(--brand-border);border-radius:1rem;background:#fff;color:#555;font-size:0.9rem}
		.tab.active{background:var(--brand-primary-soft);color:#a22;border-color:#f5b}
		.accountBadges{display:flex;gap:0.5rem;margin:0.25rem 0}
		.contactRow{display:flex;align-items:center;gap:0.5rem;color:#444;margin-top:0.25rem}
		.contactRow .icon{height:1.1rem;width:1.1rem}
		.accountMeta{font-size:0.95rem;color:#666}
		.petCard{align-items:center;justify-content:space-between}
		
		#profileImage{
			width:2rem;height:2rem;border:solid 0.1rem var(--brand-primary);border-radius:50%;
		}
		
		/* Nuevos estilos para el perfil mejorado */
		 .profileSummary {
			 display: flex;
			 align-items: center;
			 gap: 1rem;
			 padding: 1.5rem;
			 background: linear-gradient(135deg, #fff 0%, #f8f9fa 100%);
			 border-radius: var(--radius-lg);
			 box-shadow: var(--shadow-1);
			 border: 1px solid var(--brand-border);
			 transition: all 0.3s ease;
			 margin: 0;
		 }
		
		.profileSummary:hover {
			box-shadow: var(--shadow-2);
			transform: translateY(-1px);
		}
		
		.profileCircle {
			 position: relative;
			 flex-shrink: 0;
		 }
		 
		 .profileInfo {
			 flex: 1;
			 min-width: 0;
		 }
		
		.profileName {
			font-size: 1.2rem;
			font-weight: 600;
			color: var(--text-primary);
			margin-bottom: 0.25rem;
		}
		
		.profileStatus {
			font-size: 0.9rem;
			color: var(--text-secondary);
			margin-bottom: 0.5rem;
		}
		
		.profilePlan {
			font-size: 0.9rem;
			padding: 0.25rem 0.5rem;
			background: var(--brand-primary-soft);
			border-radius: var(--radius-sm);
			display: inline-block;
			transition: all 0.2s ease;
		}
		
		.profilePlan:hover {
			background: var(--brand-primary);
			color: white;
		}
		
		.accountDetails {
			margin-top: 1rem;
			padding: 1rem;
			background: #f8f9fa;
			border-radius: var(--radius-md);
			border-left: 4px solid var(--brand-primary);
			animation: slideDown 0.3s ease;
		}
		
		.detailRow {
			margin-bottom: 0.75rem;
			font-size: 0.95rem;
			color: var(--text-primary);
		}
		
		.detailRow:last-child {
			margin-bottom: 0;
		}
		
		@keyframes slideDown {
			from {
				opacity: 0;
				transform: translateY(-10px);
			}
			to {
				opacity: 1;
				transform: translateY(0);
			}
		}
		
		/* Colores de marca */
		.bg-red { background-color: #e74c3c; }
		.text-red { color: #e74c3c; }
		
		/* Bordes redondeados */
		.rounded { border-radius: 8px; }
	</style>
	<script>
		async function beforeLoad(){
			accountData = {
				name:"Francisca",
				lastname:"Espinosa",
				type:"Plan Gratis",
				image:"assets/logo.png"
			}
		
			petData = await selectAllFrom('pets');
			pets=[]
			for(key in petData){
				pets.push(petData[key])
			}
		}
	</script>
</head>
<body class="column">

	<div class="row header">
		<button id="backButton" class="column compact"><span class="icon" data-icon="chevron-left"></span></button>
		<div class="column ta-left">
			<a href="account.html"><h1>Hola, <span content="${accountData.name}"></span></h1></a>
		</div>
		<div class="column ta-right ph-1">
			<a href="account.html"><div id="profileImage" class="icon" data-imgsrc="${accountData.image}"></div></a>
		</div>
	</div>
	
	<div class="row">
		<div class="column cardList"> <!-- Lista de mascotas -->
	
			<div class="card row" foreach="pets">
				<div class="column compact">
					<div class="petImageDisplay" data-img="${imageURL}"></div>
				</div>
				<div class="column ph-1 size-full-width ta-left">
					<div class="cardTitle row ta-left bold">
						<span content="${name}"></span> <span content="${sexSymbol}"></span>
					</div>
					<div class="row ta-left metaText">
						<span content="${species}"></span> (<span content="${breed}"></span>)
					</div>
				</div>
				<div class="column compact">
					<a href="petDetail.html?id=${id}"><span class="icon cardChevron" data-icon="chevron-right"></span></a>
				</div>
			</div>
			
			<div class="row ">
				<div class="column ph-1">
					<a class="button bg-red" href="register.html">AÃ±adir Mascota</a>
					<!-- a class="button bg-red" href="reportHistory.html">Historial de Alertas</a --> <!-- ????? -->
				</div>
			</div>
			
		</div>
	</div>
	
</body>