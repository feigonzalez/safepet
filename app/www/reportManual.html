<!DOCTYPE html>
<html lang="es">
	<head>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<title>Reportar Hallazgo</title>
		<link rel="stylesheet" href="assets/style.css">
		<link rel="stylesheet" href="assets/custom/reportManual.css">
		<script src="assets/app.js"></script>
		<script src="assets/validation.js"></script>
		<script src="assets/navigation.js"></script>
		<script src="assets/custom/reportManual.js"></script>
	</head>

	<body class="column">

		 <div class="row header">
			<button id="backButton" class="column compact"><span class="icon" data-icon="chevron-left"></span></button>
			<h1>Reportar Hallazgo</h1>
		</div>

	  <div class="row">
		<form id="reportForm" class="column form center ph-1">
			<div class="uber-photo-section">
				<div class="uber-photo-upload-container" onclick="document.getElementById('reg_petImage').click()">
					<div class="uber-photo-circle">
						<div class="uber-photo-placeholder" id="photoPlaceholder">
							<svg width="38" height="38" viewBox="0 0 24 24" fill="none"
								xmlns="http://www.w3.org/2000/svg">
								<path d="M23 19a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h4l2-3h6l2 3h4a2 2 0 0 1 2 2z"
									stroke="#ff4b4b" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
								<circle cx="12" cy="13" r="4"
									stroke="#ff4b4b" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
							</svg>
						</div>
						<img id="petImageDisplay" alt="Vista previa" style="display:none;">
					</div>
				</div>
				<input type="file" id="reg_petImage" accept="image/*" capture="environment" style="display:none;"
					 onchange="showUploadedImage(this,'petImageDisplay')">
			</div>

			<div class="uber-field-group">
				<label class="uber-label" for="petSpecies">Especie</label>
				<input type="text" id="petSpecies" class="uber-input" placeholder="Ej: Perro, Gato, Ave" required>
			</div>

			<div class="uber-field-group">
				<label class="uber-label" for="petBreed">Raza</label>
				<input type="text" id="petBreed" class="uber-input" placeholder="Ej: Labrador, Siamés">
			</div>

			<div class="uber-field-group">
				<label class="uber-label" for="petColor">Color</label>
				<input type="text" id="petColor" class="uber-input" placeholder="Ej: Marrón, Negro con blanco" required>
			</div>

			<div class="uber-field-group">
				<label class="uber-label">Sexo</label>
				<div class="uber-gender-options">
					<label class="uber-gender-option">
					<input type="radio" name="petSex" value="M" required>
					Macho
					</label>
					<label class="uber-gender-option">
					<input type="radio" name="petSex" value="F" required>
					Hembra
					</label>
				</div>
			</div>

			<div class="row compact">
				<button type="submit" class="button bg-primary rounded submit-btn">Reportar Hallazgo</button>
			</div>
		</form>
	</div>

	  <script>
		// Mostrar vista previa de imagen
		function showUploadedImage(input, imgId) {
		  const file = input.files && input.files[0];
		  if (!file) return;
		  const reader = new FileReader();
		  reader.onload = () => {
			const img = document.getElementById(imgId);
			const placeholder = document.getElementById('photoPlaceholder');
			img.src = reader.result;
			img.style.display = 'block';
			img.style.objectFit = 'cover';
			placeholder.style.display = 'none';
		  };
		  reader.readAsDataURL(file);
		}

		// Envío del formulario
		document.getElementById('reportForm').addEventListener('submit', e => {
		  e.preventDefault();
		  loadModal('templates/confirmReportModal.html');
		});
	  </script>
	</body>
</html>
