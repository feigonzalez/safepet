<head>
    <meta charset="utf-8" />
    <link rel="stylesheet" href="assets/style.css">
    <link rel="stylesheet" href="assets/custom/messages.css">
    <script src="assets/app.js"></script>
    <script src="assets/navigation.js"></script>
</head>
<body class="column">
    <div class="row header">
        <button id="backButton" class="column compact"><span class="icon" data-icon="chevron-left"></span></button>
        <h1>Mensajes</h1>
    </div>
    <div class="row">
        <div class="column size-full-width">
	
		<!-- Debería ser un template con un atributo foreach="chats" o algo parecido -->
            <div class="row compact listCard chatItem" onclick="openChat('dueno-dargon', 'Dueño de Dargón')">
                <div class="column msgItem ta-left">
                    <div class="msgAvatar" data-imgsrc="media/dargon.jpg"></div>
                    <div class="chatContent">
                        <div class="chatHeader">
                            <div class="bold">Dueño de Dargón</div>
                            <div class="timestamp">Hace 5 min</div>
                        </div>
                        <div class="lastMessage">Hola, vi a tu mascota cerca del parque central</div>
                    </div>
                    <div class="unreadBadge">2</div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Función para abrir una conversación individual
        function openChat(chatId, contactName) {
            // Navegar a la vista de conversación con parámetros
            navigateWithParams('chat.html', {
                chatId: chatId,
                contactName: contactName
            });
        }
    </script>
</body>